# ============================================
# Books API - Environment Variables
# ============================================
# Copy this file to .env and fill in your values
# cp .env.example .env

# ============================================
# Application Configuration
# ============================================

# ASP.NET Core Environment
# Options: Development, Staging, Production
ASPNETCORE_ENVIRONMENT=Development

# ============================================
# Database Configuration
# ============================================

# Database Connection String
# Format: "Data Source=/app/db/app.db" (SQLite) or full connection string for other databases
DB_CONNECTION_STRING=Data Source=/app/db/app.db

# ============================================
# Docker & Networking
# ============================================

# API Port (default: 8080)
API_PORT=8080

# Fluent Bit Port (default: 24224)
FLUENTD_PORT=24224

# Fluent Bit Log Tag (used for log routing)
# Format: books-api.{environment}
FLUENTD_TAG=books-api.dev

# ============================================
# Production Image Configuration
# ============================================

# GitHub Repository Owner (for production image)
# Example: cesarj41 or your-org
GITHUB_REPOSITORY_OWNER=your-org

# Docker Image Tag (for production)
# Example: 1.0.0, latest, v1.0.0
TAG=latest

# ============================================
# AWS Credentials
# ============================================
# For local development, use access keys
# For production (ECS/EKS), use IAM roles instead

# AWS Region
AWS_REGION=us-east-1

# AWS Access Key ID (leave empty if using IAM role)
AWS_ACCESS_KEY_ID=

# AWS Secret Access Key (leave empty if using IAM role)
AWS_SECRET_ACCESS_KEY=

# AWS Session Token (optional, for temporary credentials)
AWS_SESSION_TOKEN=

# ============================================
# CloudWatch Logs Configuration
# ============================================

# CloudWatch Log Group Name
# Development: books-api-dev
# Production: books-api
CLOUDWATCH_LOG_GROUP=books-api-dev

# CloudWatch Log Stream Name
# Uses HOSTNAME variable if not set
# Format: books-api-{hostname}
CLOUDWATCH_LOG_STREAM=

# CloudWatch Log Retention (in days)
# Development: 7 days
# Production: 30 days
CLOUDWATCH_LOG_RETENTION_DAYS=7

# Auto-create CloudWatch Log Group if it doesn't exist
# Options: true, false
CLOUDWATCH_AUTO_CREATE_GROUP=true

# Auto-create CloudWatch Log Stream if it doesn't exist
# Options: true, false
CLOUDWATCH_AUTO_CREATE_STREAM=true

# ============================================
# Fluent Bit Configuration
# ============================================

# Environment tag (used for log filtering)
# Options: development, staging, production
ENVIRONMENT=development

# Hostname (used for log stream naming)
# Defaults to system hostname if not set
HOSTNAME=

# ============================================
# Notes
# ============================================
# 
# Production Best Practices:
# - Use IAM roles instead of access keys
# - Set ENVIRONMENT=production
# - Use appropriate log retention (30+ days)
# - Set CLOUDWATCH_LOG_GROUP=books-api
# - Remove AWS_ACCESS_KEY_ID and AWS_SECRET_ACCESS_KEY
#
# Local Development:
# - Set AWS credentials for local testing
# - Use shorter log retention (7 days)
# - Set ENVIRONMENT=development
#
# Security:
# - Never commit .env file to version control
# - Use secrets management for production
# - Rotate AWS credentials regularly
